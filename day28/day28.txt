1.网络缓冲区
    每个socket 被创建后，都会分配两个缓冲区，输入、输出缓冲区，分别用于数据收、发
    当send函数调用时，现将数据写入缓冲区，send 函数就认为发送成功，并返回，由TCP协议决定何时从缓冲区发送到对方
    当调用recv函数接收时，从输入缓冲区读取数据，而不是直接从网络读取
    优点：提高读写效率，协调收发速度

2.粘包
    粘包：多个数据包的数据到达接收缓冲区，后一个包的头接着上一个包尾

    什么时候需要处理粘包：
        如果多个数据包属于不同的分组，需要处理
        属于同一个分组，不需要处理
    
    如何处理：
        方式一：
            在数据包的头部、尾部增加特殊标记
            读取数据的时候，读取两个笔记中间的部分
        方式二：
            在每个数据包头增加长度信息
            根据长度决定读取多少个字节数据

3.UDP套接字
    UDP工作流程：
        创建套接字 -> 绑定地址 -> 收发数据 -> 关闭
        没有listen,accept过程
    客户端：
        创建套接字 -> 发送、接收数据 -> 关闭
    UDP套接字的主要函数：
        创建套接字 
            sockfd = socket(AF_INET, SOCK_DGRAM)
            参数：AF_INET        协议地址
                                地址进行通信
                 SOCK_DGRAM     套接字类型
                                表示用户报文套接字
        绑定（服务器端）
            socket.bind(address)
            参数：address   绑定地址，由IP、端口构成
        
        接收：recvfrom
            data, addr = recvfrom(buffersize)
            参数：buffersize    每次最多接收的字节数
            返回值：data    接收的内容
                   addr    消息发送者的地址

        发送：sendto
            n = sendto(data, addr)
            参数：data  要大宋的数据，bytes格式
                 addr  接收者地址
            返回值：实际发送的字节数

4.TCP和UDP套接字的对比
    TCP                 UDP 
    字节流              数据报
    会产生粘包          

5.socket常用的属性方法
    family属性：地址类型
        AF_INET：发送方、接收方通过IP、端口来标识
                IPV4
        AF_UNIX：本地socket,发送方、接收方位于同一台机器，地址为文件路径
        AF_INET6：IPV6地址

    type:socket 类型
        SOCK_STREAM:流失socket
        SOCK_DGRAM:数据报socket

    getpeername():获取连接端的地址信息
    getsockname():获取套接字绑定的地址

    fileno():获取套接字的文件描述符
        文件描述符：操作系统内核都分配的一个非负整数，每个文件描述符代表一个文件，当打开或新建一个文件，内核都会返回一个文件描述符，文件读写、网络socket数据收发，外设操作都是通过文件描述符进行

        例：
            标准输入：sys.stdin     0 默认键盘
            标准输出：sys.stdout    1 默认屏幕
        
    setsockopt(level, optname, value)
        功能：设置套接字的选项
            不同的套接字选项代表不同的功能
        参数：
            level: 设置选项的类型
            optname: 选项类型中的子类型
            value: 为选项设定的值

6.广播
    1.什么是广播
        单播：一点发送，一点接收
        多播（组播）：一点发送，特定的多个点接收
        广播：一点发送，该网段内所有的节点接收

        广播地址：IP地址的主机地址部分全为1

    2.python中如何实现广播
        socket既能发送也能接收广播的时候，首先设置SO_BROADCAST选项为1，来支持广播通信

        setsockopt(SOL_SOCKET, SO_BROADCAST, 1)

        发送广播，使用特殊地址broadcast，而不是标准的IP地址和主机名   














176.61.14.117
176.61.14.255






















































